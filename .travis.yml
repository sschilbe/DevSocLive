dist: xenial
language: python
cache: pip
python:
- 2.7
install:
- pip install -r requirements.txt
script:
- pytest -v
jobs:
  include:
  - stage: deploy to staging
    deploy:
      provider: heroku
      api_key:
        secure: KHJAsTKDNxmnJqE/fC7JXuLNaoroMN7X7uZrkIld/+7HPgSJ2kTRL7ioBuAk1/Kl2ArhtT1lr1Wt/i+3dIogii84ydq051595mQ0l98rklr0au8TjVZCd65rm3/DqQFfwW7Y0N3ky5Y/x/M0cBNrP+KIK++Y+g8jOZqhG+bc9rgWgM8Uwd2K8nWqXUK9pylV1ltHbbTM33kb+WiDMtny1g9q33eZ60B7EF23ci9RYIr319uyJOpNaqxefHcvAVMwxNpcaltkAivURnBYP6gbnfX9krVmDjnSadElqGPKn7c2V0j/Ikft60sk0XyLbGLqyCVblDz0sxyGcaWFm1rZjYDbwpIR3qQdTb1e/EkIBXWRTnraHooEVj7tfp9SYxPWCRPsl1bP2jtZirwnwHD7rFoSGDBVwvQfujP5Kj7PlCyXw27P9CErwO/oqKL6Uh4Gq3NK9uZHB3rELEYsIjiGQ8JKn0iIhVfbNovNfq9ByekFELceKk57EwPmKiwnCpXY8HwhDYBCShhusUcvPisMGw5dbMlJWa5n4VkWJuBKWHunvxjSjFH7WCxsOWZtzVjCliMxickVvUl1Dgz8G7cCE4ZwsC2gaNv8BFPwGpo+o49d0yoDxRsScMgucLm5HKFDZzag6kQpkfE+WyN5GKIgV9sFriQrKBOPKb24qE33Wdg=
      app:
        master: system-testing-dev-soc-live
      on:
        repo: sschilbe/DevSocLive
  - stage: test staging
    install:
    - pip install robotframework
    - pip install --upgrade requests
    - pip install robotframework-selenium2library
    - pip install --upgrade urllib3
    script:
    - robot --variable BROWSER:chrome --variable VERSION:latest --variable PLATFORM:MAC
      test.robot
