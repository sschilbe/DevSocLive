dist: xenial
language: python
cache: pip
  directories:
    - /home/travis/.rvm/
python:
- 2.7
install:
- pip install -r requirements.txt
script:
- pytest -v
jobs:
  include:
  - stage: deploy to staging
    deploy:
      provider: heroku
      api_key:
        secure: Ef4xK2jyKNjPqGKDPlSlMHdv+EO/kVIrWv3XquNAC57eyT2kRVfp08l0NKr9mJ7sB8yl2Bl02xgJCnHCc7ItKGHk+cUx4pC5vn0RdKJV+DVcs9hWcAIbP8o4h6YFT/Eo56U7Q6sxeOes5CCbOBkqcmax30MqVaBbF/xvCE/kaiNeKLvDWNPlPkamwhlRKzyOoS0MWRhUVxKJu/CQaE/DVU9wtg82fikkCuLohHOAFF3xxMPhc35k81hsdnaDS9sei6oTPcMAn+tUInz8tkSHpF1pKkVF5qQniEWLKC7nzvBiNceFSsD6J7AlXC5jshPs7vJLMkyktIJ4bhzuimHZnpXI+cJAjbJFK2Gs3gOUyYaGCNSzUFwuFsL4o5PGOX9ZgIqHaBRJ2lW82F49RcbkyP7DN+6NioYAtqXN5kxTk48XyV/pQelJvJwgOUKZXcrme2ZAoQialmA2hhij9lwIOforq0GORIkgxz2+vH7ZPKD+5lnKM00qg/vsyvIx7KYsH2eEYJq4iZH83+tjMYH8d92ScFw3vv1MI3CNjw0XLkwyyKkrvujiBWJRiCIK6gE3TELihI6hEUQxxRuMzusHaz5gR1+0z2JYPkmSrX4akk+CptU130zDzb0QddiZDMkvgr7xL1efSJQekfFwH5QVihvZPTjh4sOq7MM3pIINaso=
      app:
        master: swe4203-seminar
      on:
        repo: sschilbe/SWE4203_SEMINAR
  - stage: test staging
    install:
    - pip install robotframework
    - pip install --upgrade requests
    - pip install robotframework-selenium2library
    - pip install --upgrade urllib3
    script:
    - robot --variable BROWSER:chrome --variable VERSION:latest --variable PLATFORM:MAC
      test.robot
