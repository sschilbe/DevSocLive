language: python
python:
- 3.6
install:
- pip install -r requirements.txt
script:
- pytest -v
jobs:
  include:
  - stage: deploy to staging
    deploy:
      api_key:
        secure: F4iw5vBk0vlxpdwqMnax+5MsIN76pmF/SY51Ksy9NegZ1rp5pCZ3bt2hUb2ItKxKKbnCw7DuNYFoGc627cWW3/66EFsI0Q4RHnyNqZ4+4LA7CFBngZeRKhRw58ZrqjBLjl9sZ76MHwx4bOLPdkLrwWrRGJm8+RHa17gRwbTHtvs4Mqn1aiSd/eTK4ZpNrDeHh0KzdkJED/OJwCe4GN3cFuskaWCV6Ry9Hz9OPTBvBVOQx/shxgSFgeXLfADAgnM1wx/0ojE6PziNcNkzw3UYYunw+HFgQg/AOaUy7yf7DLBtiK9jiz/rRCXKfNxmZtYghf2UNjn9Ik/LVlMB/05qe/svNnEgBBZ9KnNu/JWjn4frXawvl5zoYg2HCJdy7AJELLf4suE6RBjZrIfB6EpI6GUax1f830QDoQsWAI5brWRPyCzfc2m9Pn4FZQNc/rhzRXg8pVRqIey1mzYVvXVB5mA4CbzfBCnep2Vkvsvx1USqInJPW63hX77VxLVrGVnJkmkQCHGofa3zVdFnWQDWMvMq3gGcKLm+E+SCaN7pbKG+oNukY0obJ5VVkM3dYh4jhvNWULexxevFNtMgsK/4eL1U93ed6hnAiXQAYhVnIK+dmLOxXN9vscbRQw2kMsx7+WDP1R5hTCFrqSec9Ni+shPSdfbPktlsU71eGEpgdSM=
      app:
        master: SWE4203_SEMINAR
      on:
        repo: sschilbe/SWE4203_SEMINAR
  - stage: test staging
    before_install:
    - sudo apt-get update
    install:
    - pip install robotframework
    - pip install --upgrade requests
    - pip install robotframework-selenium2library
    - pip install --upgrade urllib3
    script:
    - robot --variable BROWSER:chrome --variable VERSION:latest --variable PLATFORM:MAC test.robot