dist: xenial
language: python
cache: pip
python:
- 2.7
install:
- pip install -r requirements.txt
script:
- pytest -v
jobs:
  include:
  - stage: deploy to staging
    deploy:
      provider: heroku
      api_key:
        secure: H5qquo60+bj5oBNvf+a8DPqmzFUKtPn9mpD86xUBQ99iqdv9DTzPiP4Jlm+kOuc/Qzw/Qyt/Va+3HUMMqt51/uUUgdLyz6+244YGSzhZax48i3LUK01pWheW0Yn5M7IuwvDEMJw/R84zInOuLZC1ikwnlKPeyLscvVuH/sKyoJOVgjI2Zg0vpKZaCxoVZg9I/0Q4YYOZtK6jixhpS5PLZMOeKtlBTQqXuJH+dXMx34jNMLnA5c8t1nXcucicbyN9GGIJha0novvAtK31jnEVni1AI6dtmQ7rpIqQ0+Vf2wbni9bmDgduTjwGVcgeGzZiLxJpb6HsEHyUgzy0wdYMVH0aaMQgoaKH18h7kK+egGU2/3zDhIR4ClMT/bq6lXgglhHhekpcWALMN1jM88d/Fc0OI6fxHZY2TykH74wJFMMMF9jNkD8EcGDpGlryUiCa71nxmd4QAllISxKXw9OhICA94DeNU0qjv6PlLGOOldigBV+0tt3BEXh8RolFe7QjF5MDYo4WQEIw+1M6cHwvvNOV+swR+zxDe9YMHGjsSAQ3O9Y95ltkxlCiKo4bJNnSKOx1nRJlZ+q9IQsHCrudOHiPClG+PxJoWHnXwE/DggfkrYLpOd5qZztH09vRQniT8sXYkpOcfsXDBrifnmoy6lCtugQoziLG7EhsgyK2Av0=
      app:
        master: system-testing-template
      on:
        repo: sschilbe/SystemTestingTemplate
  - stage: test staging
    install:
    - pip install robotframework
    - pip install --upgrade requests
    - pip install robotframework-selenium2library
    - pip install --upgrade urllib3
    script:
    - robot --variable BROWSER:chrome --variable VERSION:latest --variable PLATFORM:MAC
      test.robot
